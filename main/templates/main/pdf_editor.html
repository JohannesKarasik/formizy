{% extends "main/base.html" %}
{% load static %}

{% block meta %}
    <meta name="description" content="{{ form_info.seo_description }}">
    <link rel="canonical" href="https://formskies.com/{{ country_code }}/{{ form_info.slug }}/editor/">
    <style>
        /* Hide ONLY the global header from base (direct child of <body>) */
        body > header { display: none !important; }
        /* (Optional) hide global footer on this page */
        /* body > footer.fs-footer { display: none !important; } */
      
        /* ===== Editor header (modern, white) ===== */
        .editor-header{
          position: sticky;        /* stays visible while scrolling the editor */
          top: 0;
          z-index: 101;            /* above viewer UI */
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 12px;
          padding: 12px 16px;
          background: #fff;        /* âœ… white background */
          border-bottom: 1px solid #eef2f7;
          box-shadow: 0 6px 24px rgba(16,24,64,0.06);
        }
      
        .editor-header .title{
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 15px;
          font-weight: 700;
          letter-spacing: .2px;
          color: #0b1220;
        }
      
        .editor-header .actions{
          display: flex;
          align-items: center;
          gap: 10px;
        }
      
        .editor-header .btn{
  appearance: none;
  border: 1px solid #d7def0;
  background: #fff;
  color: #0f172a;
  border-radius: 10px;
  padding: 8px 12px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .18s ease, border-color .18s ease;
  display: inline-flex;                /* ðŸ‘ˆ for icon + text */
  align-items: center;
  gap: 8px;                            /* space between icon and text */
}

.editor-header .btn .icon{
  width: 14px;
  height: 14px;
  display: inline-block;
}

.editor-header .btn.primary{
  border-color: transparent;
  background: linear-gradient(135deg, #2563eb, #1e54d4);
  color: #fff;
  box-shadow: 0 8px 22px rgba(37,99,235,0.25);
}

.editor-header .btn.primary .icon{
  filter: drop-shadow(0 0 0 rgba(0,0,0,0)); /* crisp on gradient */
}

        .editor-header .btn:hover{
          transform: translateY(-1px);
          border-color: #c7d2f5;
          box-shadow: 0 6px 18px rgba(16,24,64,0.08);
        }
      
        .editor-header .btn.primary{
          border-color: transparent;
          background: linear-gradient(135deg, #2563eb, #1e54d4);
          color: #fff;
          box-shadow: 0 8px 22px rgba(37,99,235,0.25);
        }
        .editor-header .btn.primary:hover{
          box-shadow: 0 10px 28px rgba(37,99,235,0.32);
        }
      
        /* Compact on small screens */
        @media (max-width: 640px){
          .editor-header{ padding: 10px 12px; }
          .editor-header .title{ font-size: 14px; }
          .editor-header .btn{ padding: 7px 10px; font-size: 12.5px; }
        }
      </style>
      
{% endblock %}

{% block content %}

<!-- âœ… Your page-specific header (replaces the global one) -->
<header class="editor-header" role="banner">
    <div class="title">PDF-Editor</div>
    <div class="actions">
      <button type="button" class="btn" onclick="history.back()">ZurÃ¼ck</button>
      {% if not user.is_authenticated %}
      <button type="button" class="btn primary" onclick="saveFieldsAndOpenAuth()" aria-label="Fertig">
        <!-- check icon -->
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M20 6L9 17l-5-5"
                stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Fertig</span>
      </button>
    {% else %}
      <button type="button" class="btn primary" onclick="saveFieldsAndDownload()" aria-label="Fertig">
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M20 6L9 17l-5-5"
                stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Fertig</span>
      </button>
    {% endif %}
    
    </div>
  </header>
  
  

<main class="content-main">
  <form id="csrf-form">{% csrf_token %}</form>

  {# â¬‡ All viewer CSS + HTML + JS lives in this partial #}
  {% include "main/pdf_editor_script.html" %}
</main>

{% endblock %}
